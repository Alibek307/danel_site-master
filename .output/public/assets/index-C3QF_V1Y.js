import{q as d,y as o,o as i,j as e}from"./main-CCPV2-vA.js";import{S as m}from"./shopping-bag-BB-ptptD.js";import{a as x,C as p}from"./clock-BNKicMoG.js";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],h=d("package",u),N=function(){const{data:t=[],isLoading:r}=o({queryKey:["orders"],queryFn:()=>i.getAll()}),c=s=>{const a={pending:{label:"Ожидает",color:"bg-yellow-500/10 text-yellow-600"},confirmed:{label:"Подтвержден",color:"bg-blue-500/10 text-blue-600"},preparing:{label:"Готовится",color:"bg-purple-500/10 text-purple-600"},ready:{label:"Готов",color:"bg-green-500/10 text-green-600"},delivered:{label:"Доставлен",color:"bg-gray-500/10 text-gray-600"},cancelled:{label:"Отменен",color:"bg-red-500/10 text-red-600"}},n=a[s]||a.pending;return e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n.color}`,children:n.label})},l=s=>new Date(s).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return r?e.jsx("div",{className:"container mx-auto px-6 py-8",children:e.jsx("div",{className:"text-center",children:"Загрузка заказов..."})}):e.jsx("div",{className:"container mx-auto px-6 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("h1",{className:"text-3xl font-bold mb-8 flex items-center gap-3",children:[e.jsx(m,{className:"w-8 h-8"}),"Мои заказы"]}),t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(h,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"У вас пока нет заказов"}),e.jsx("p",{className:"text-muted-foreground",children:"Оформите первый заказ, чтобы увидеть его здесь"})]}):e.jsx("div",{className:"space-y-4",children:t.map(s=>e.jsxs("div",{className:"border rounded-lg p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-1",children:["Заказ #",s.id]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(x,{className:"w-4 h-4"}),l(s.created_at)]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(p,{className:"w-4 h-4"}),"Доставка: ",l(s.delivery_date)]})]})]}),c(s.status)]}),e.jsx("div",{className:"space-y-2 mb-4",children:s.items.map(a=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:[a.product_name," × ",a.quantity]}),e.jsxs("span",{className:"font-medium",children:[parseFloat(a.price)*a.quantity," ₸"]})]},a.id))}),e.jsxs("div",{className:"pt-4 border-t flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"Итого:"}),e.jsxs("span",{className:"text-xl font-bold",children:[parseFloat(s.total_amount)," ₸"]})]}),s.notes&&e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:"Коментарий:"})," ",s.notes]})})]},s.id))})]})})};export{N as component};
